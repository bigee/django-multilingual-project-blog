{% load i18n simple_translation_tags thumbnail %}

{% with plugin.person|get_preferred_translation_from_request:request as trans %}
{% if plugin.display_type == 'small' %}
    <div class="media team-short">
        <div class="pull-left">
            <img alt="{{ trans.first_name }} {{ trans.last_name }}" class="img-polaroid media-object" src="{% thumbnail plugin.person.picture 89x89 crop upscale %}">
        </div>
        <div class="media-body">
            <h4 class="media-heading">{% if plugin.person.title %}{% trans plugin.person.title %} {% endif %}{{ trans.first_name }} {{ trans.last_name }}, {% trans plugin.person.gender %}</h4>
            <p class="role">{{ plugin.person.role.get_translation.name }}</p>
            {% if plugin.person.phone or plugin.person.email %}
                <ul class="inline">
                    {% if plugin.person.phone %}
                        <li><em class="icon-phone-sign"></em> {{ plugin.person.phone }}</li>
                    {% endif %}
                    {% if plugin.person.email %}
                        <li><em class="icon-envelope-alt"></em> {{ plugin.person.email }}</li>
                    {% endif %}
                </ul>
            {% endif %}
        </div>
    </div>
{% else %}
    <div class="media team">
        <div class="pull-left">
            <img alt="{{ trans.first_name }} {{ trans.last_name }}" class="img-polaroid media-object" src="{% thumbnail plugin.person.picture.image 178x178 crop upscale %}">
        </div>
        <div class="media-body">
            <h4 class="media-heading">{% if plugin.person.title %}{% trans plugin.person.title %}{% endif %} {{ trans.first_name }} {{ trans.last_name }}, {% trans plugin.person.gender %}</h4>
            <p class="role">{{ plugin.person.role.get_translation.name }}</p>
            <p>
                <strong>{% trans "Short Bio" %}</strong><br>
                {{ trans.bio }}
            </p>

            {% if plugin.person.link_set.all %}
            <ul class="inline">
                {% for link in plugin.person.link_set.all %}
                    <li><a href="{{ link.url }}"><em class="icon-{{ link.slug }}"></em> {{ link.link_type.get_translation.name }}</a></li>
                {% endfor %}
            </ul>
            {% endif %}

            {% if plugin.person.phone or plugin.person.email %}
                <ul class="inline">
                    {% if plugin.person.phone %}
                        <li><em class="icon-phone-sign"></em> {{ plugin.person.phone }}</li>
                    {% endif %}
                    {% if plugin.person.email %}
                        <li><em class="icon-envelope-alt"></em> {{ plugin.person.email }}</li>
                    {% endif %}
                </ul>
            {% endif %}
        </div>
    </div>
{% endif %}
{% endwith %}
